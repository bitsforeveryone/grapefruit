{% extends "pages/base.html" %}

{% block body %}
    <div class="row">
        <div class="col-lg-8">
            <h1>{{ service[1] }} - Port {{ service[2] }}</h1>
        </div>
        <div class="col-md-4">
            <div class="panel panel-default">
                <div class="panel-body">
                    <h3> Total Conversations: {{ convoLen }}</h3>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6 affix">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Bar Chart Example
                </div>
                <!-- /.panel-heading -->
                <div class="panel-body">
                    <div id="morris-bar-chart"></div>
                </div>
                <!-- /.panel-body -->
            </div>
            <!-- /.panel -->
        </div>
        <div class="col-lg-6 col-lg-offset-6 scrollit">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Conversation Table
                </div>
                <!-- /.panel-heading -->
                <div class="panel-body">
                    <table class = "table table-striped sortable">
                        <tr>
                            <th>Time</th>
                            <th>Size</th>
                            <th>SPORT</th>
                            <th>DPORT</th>
                            <th>Round</th>
                            <th>PCAP</th>
                        </tr>
                        {% for convo in conversations %}
                          <tr> 
                            <td> {{ convo[1] }} </td> 
                            <td> {{ convo[2] }} </td>
                            <td> {{ convo[3] }} </td> 
                            <td> {{ convo[4] }} </td> 
                            <td> <a href="/services/{{ service[1] }}/{{ convo[10] }}"> {{ convo[10] }} </a> </td>
                            <td> <a href="/{{ convo[0] }}"> File </a> </td>
                          </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        Morris.Bar({{ graphData|safe }});
    </script>
{% endblock %}
